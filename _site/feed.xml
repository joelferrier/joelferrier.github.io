<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Joel Ferrier</title>
    <description>Devops Shenanigans
</description>
    <link>http://joelferrier.com/</link>
    <atom:link href="http://joelferrier.com/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Sat, 14 Mar 2015 10:53:49 -0700</pubDate>
    <lastBuildDate>Sat, 14 Mar 2015 10:53:49 -0700</lastBuildDate>
    <generator>Jekyll v2.5.3</generator>
    
      <item>
        <title>Installing Syncope on centos 6.5</title>
        <description>&lt;hr&gt;

&lt;h3&gt;Install Packages/Maven&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;Install packages&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;sudo yum install -y vim-enhanced unzip wget java-1.7.0-openjdk mysql mysql-server&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;Download and link Apache Maven&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;wget http://apache.cs.utah.edu/maven/maven-3/3.2.1/binaries/apache-maven-3.2.1-bin.tar.gz -P /tmp
sudo tar -xvzf /tmp/apache-maven-3.2.1-bin.tar.gz -C /usr/local
&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /usr/local
sudo ln -s apache-maven-3.2.1/bin/mvn /usr/bin/mvn&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;Create a file &amp;quot;maven.sh&amp;quot; in the folder /etc/profile.d that contains:&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;M2_HOME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/local/maven
&lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;M2_HOME&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;/bin:&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;PATH&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;logout and back in again for the exports to take effect&lt;/li&gt;
&lt;/ul&gt;

&lt;hr&gt;

&lt;h3&gt;Install Tomcat&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;download tomcat&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;wget http://apache.mirrors.pair.com/tomcat/tomcat-7/v7.0.53/bin/apache-tomcat-7.0.53.tar.gz -P /tmp
sudo tar -xzvf /tmp/apache-tomcat-7.0.53.tar.gz -C /opt&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;create an init script &amp;quot;tomcat&amp;quot; in /etc/init.d that contains:&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/bash&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Description: Tomcat Start Stop Restart&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# processname: tomcat&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# chkconfig: 234 20 80&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;JAVA_HOME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/lib/jvm/java-1.7.0
&lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;JAVA_HOME
&lt;span class=&quot;nv&quot;&gt;PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;JAVA_HOME&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;/bin:&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;PATH&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;PATH
&lt;span class=&quot;nv&quot;&gt;CATALINA_HOME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/opt/apache-tomcat-7.0.53

&lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt; in
start&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
sh &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;CATALINA_HOME&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;/bin/startup.sh
&lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
stop&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
sh &lt;span class=&quot;nv&quot;&gt;$CATALINA_HOME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;/bin/shutdown.sh
&lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
restart&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
sh &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;CATALINA_HOME&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;/bin/startup.sh
sh &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;CATALINA_HOME&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;/bin/shutdown.sh
&lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;esac&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;exit &lt;/span&gt;0&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;chmod tomcat startup scripts&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;sudo chmod +x /opt/apache-tomcat-7.0.53/bin/*.sh&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;create iptables rules for tomcat&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;sudo iptables -A INPUT -p tcp --dport &lt;span class=&quot;m&quot;&gt;8080&lt;/span&gt; -j ACCEPT
sudo /sbin/service iptables save&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;create service account, edit conf/tomcat-users.xml and add:&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;role rolename=&quot;admin-gui&quot; /&gt;
&lt;user username=&quot;admin&quot; password=&quot;${PASSWORD}&quot; roles=&quot;manager-gui,admin-gui&quot; /&gt;&lt;/p&gt;

&lt;hr&gt;

&lt;h3&gt;Configure mysql&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;start mysql&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;sudo iptables -A INPUT -p tcp --dport &lt;span class=&quot;m&quot;&gt;8080&lt;/span&gt; -j ACCEPT
sudo service mysqld start&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;run the mysql secure installation script&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;sudo iptables -A INPUT -p tcp --dport &lt;span class=&quot;m&quot;&gt;8080&lt;/span&gt; -j ACCEPT
sudo /usr/bin/mysql_secure_installation&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The default root password is blank, change it, and disallow anonymous users and remote root login. Finally remove the test database&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;set mysql to run at boot&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;sudo iptables -A INPUT -p tcp --dport &lt;span class=&quot;m&quot;&gt;8080&lt;/span&gt; -j ACCEPT
sudo chkconfig --levels &lt;span class=&quot;m&quot;&gt;235&lt;/span&gt; mysqld on&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;create syncope database&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;mysql -u root -p&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-mysql&quot; data-lang=&quot;mysql&quot;&gt;&lt;span class=&quot;n&quot;&gt;mysql&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;database&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;syncope&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;mysql&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;syncope&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;localhost&amp;#39;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;identified&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;${syncope_password}&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;mysql&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;grant&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;all&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;privileges&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;on&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;syncope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;syncope&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;localhost&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;mysql&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;exit&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Install Syncope&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;download syncope project and move it to opt&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; ~/
sudo mvn archetype:generate &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -DarchetypeGroupId&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;org.apache.syncope &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -DarchetypeArtifactId&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;syncope-archetype &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -DarchetypeRepository&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;http://repo1.maven.org/maven2 &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -DarchetypeVersion&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1.1.6
    mv syncope-enterprise-bus /opt/&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;When prompted supply:&lt;/li&gt;
&lt;/ul&gt;

&lt;ol&gt;
&lt;li&gt;a groupId like &amp;quot;org.orshakes&amp;quot; &lt;/li&gt;
&lt;li&gt;an artifactId like &amp;quot;syncope-enterprise-bus&amp;quot; &lt;/li&gt;
&lt;li&gt;a version number like &amp;quot;SNAPSHOT-0.1&amp;quot; (if still in development)&lt;/li&gt;
&lt;li&gt;a packageName matching the groupid&lt;/li&gt;
&lt;li&gt;a random string of 16 characters&lt;/li&gt;
&lt;/ol&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Create two directories in the syncope-enterprise-bus directory, logs and bundles&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;download connID bundles and place them in the bundles directory&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;sudo wget http://central.maven.org/maven2/org/connid/bundles/org.connid.bundles.ldap/1.3.6/org.connid.bundles.ldap-1.3.6.jar -P /opt/syncope-enterprise-bus/bundles
sudo wget http://central.maven.org/maven2/org/connid/bundles/org.connid.bundles.flatfile/1.2/org.connid.bundles.flatfile-1.2.jar -P /opt/syncope-enterprise-bus/bundles
sudo wget http://central.maven.org/maven2/org/connid/bundles/org.connid.bundles.ad/1.1.2/org.connid.bundles.ad-1.1.2.jar -P /opt/syncope-enterprise-bus/bundles&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;Configure syncope storage edit &lt;code&gt;${syncope_install_dir}/core/src/main/resources/persistence.properties&lt;/code&gt; Replace the current database configuration with&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;jpa.driverClassName=com.mysql.jdbc.Driver
jpa.url=jdbc:mysql://localhost:3306/syncope?characterEncoding=UTF-8
jpa.username=syncope
jpa.password=S{syncopepass}
jpa.dialect=org.apache.openjpa.jdbc.sql.MySQLDictionary
quartz.jobstore=org.quartz.impl.jdbcjobstore.StdJDBCDelegate
quartz.sql=tables_mysql.sql
logback.sql=mysql.sql&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ensure that syncope pass has the same value as what you entered into mysql for the syncope user account&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Edit &lt;code&gt;${syncope_install_dir}/core/src/main/webapp/WEB-INF/web.xml&lt;/code&gt; and uncomment resource-ref section&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Configure internal storage with tomcat: edit the file ${Catalina_Home}/conf/context.xml to contain the following:&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot; data-lang=&quot;xml&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;&amp;lt;Resource&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;jdbc/syncopeDataSource&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;auth=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Container&amp;quot;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 2&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;javax.sql.DataSource&amp;quot;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 3&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;factory=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;org.apache.tomcat.jdbc.pool.DataSourceFactory&amp;quot;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 4&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;testWhileIdle=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;true&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;testOnBorrow=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;true&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;testOnReturn=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;true&amp;quot;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;validationQuery=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;SELECT 1&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;validationInterval=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;30000&amp;quot;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;maxActive=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;50&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;minIdle=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;2&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;maxWait=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;10000&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;initialSize=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;2&amp;quot;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;removeAbandonedTimeout=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;20000&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;removeAbandoned=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;true&amp;quot;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;logAbandoned=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;true&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;suspectTimeout=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;20000&amp;quot;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;timeBetweenEvictionRunsMillis=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;5000&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;minEvictableIdleTimeMillis=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;5000&amp;quot;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;jdbcInterceptors=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;org.apache.tomcat.jdbc.pool.interceptor.ConnectionState;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;11&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;org.apache.tomcat.jdbc.pool.interceptor.StatementFinalizer&amp;quot;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;12&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;username=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;syncope&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;password=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;${syncopepass}&amp;quot;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;13&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;driverClassName=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;com.mysql.jdbc.Driver&amp;quot;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;14&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;url=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;jdbc:mysql://localhost:3306/syncope?characterEncoding=UTF-8&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ensure that syncopepass has the same value as what you entered into mysql for the syncope user account&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;uncomment the line &amp;quot;&lt;Manager pathname= &quot;&quot; /&gt; in the file above&lt;/li&gt;
&lt;li&gt;download the JDBC driver from the following url and place it in tomcat&amp;#39;s lib directory&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;wget https://dev.mysql.com/get/Downloads/Connector-J/mysql-connector-java-5.1.30.tar.gz&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Build Syncope&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;create a complete syncope project with the following command&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;sudo mvn clean package -Dbundles.directory&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/opt/syncope-enterprise-bus/bundles -Dlog.directory&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/opt/syncope-enterprise-bus/logs&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Configure Admin Account&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;After successfully building edit core/src/main/security.properties to change administrator credentials. The default username/pass is admin/password&lt;/li&gt;
&lt;li&gt;passwords are stored as an md5sum of the cleartext password, obtain the hash of a new password with the following command&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; -n &lt;span class=&quot;s2&quot;&gt;&amp;quot;new password&amp;quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; md5sum&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Deploy Syncope&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;copy the files &lt;code&gt;core/target/syncope.war&lt;/code&gt; and &lt;code&gt;console/target/syncope-console.war&lt;/code&gt; to tomcat&amp;#39;s webapps directory&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;tomcat will automagically deploy all of the files required for syncope-core and syncope-console when it is started&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;sudo service tomcat start&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;login to the tomcat manager-gui to ensure that both syncope console and syncope core have started&lt;/li&gt;
&lt;li&gt;connect to &lt;code&gt;http://yourtomcatserver:8080/sycnope-console&lt;/code&gt; to begin using syncope&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Mon, 24 Feb 2014 02:32:00 -0800</pubDate>
        <link>http://joelferrier.com/centos/2014/02/24/installing-syncope-on-centos-6.5.html</link>
        <guid isPermaLink="true">http://joelferrier.com/centos/2014/02/24/installing-syncope-on-centos-6.5.html</guid>
        
        
        <category>centos</category>
        
      </item>
    
  </channel>
</rss>
